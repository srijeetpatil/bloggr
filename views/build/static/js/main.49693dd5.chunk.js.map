{"version":3,"sources":["util/axiosconfig.ts","util/localstore.ts","api/blog.ts","api/auth.ts","components/Header.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["axiosConfig","axios","create","baseURL","interceptors","request","use","config","Token","getFromStore","headers","error","Promise","reject","saveToStore","key","value","window","localStorage","setItem","getItem","removeFromStore","removeItem","getBlog","id","resolve","a","get","obj","explore","content","title","form","FormData","append","post","getMyBlogs","login","email","password","signup","username","myProfile","styles","avatar","padding","width","overflow","fontWeight","logoutButton","backgroundColor","color","outline","border","cursor","Header","props","history","useHistory","className","style","margin","onClick","location","href","user","display","flexDirection","alignItems","justifyContent","reload","push","Home","lazy","Create","Blog","Signin","Signup","spinnerContainer","height","App","useState","blog","setBlog","feed","setFeed","setUser","myBlogsData","setMyBlogs","useEffect","getMyProfile","getBlogByName","response","exploreBlogs","data","myBlogs","fallback","CircularProgress","path","render","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.49693dd5.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { getFromStore } from \"./localstore\";\r\n\r\nconst axiosConfig = axios.create({\r\n  baseURL: \"https://reactbloggr.herokuapp.com/\",\r\n});\r\n\r\naxiosConfig.interceptors.request.use(\r\n  function (config) {\r\n    let Token = getFromStore(\"auth\");\r\n    if (Token) config.headers[\"Authorization\"] = \"Bearer \" + Token;\r\n\r\n    return config;\r\n  },\r\n  function (error) {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default axiosConfig;\r\n","/* Set items in localstorage*/\r\nexport const saveToStore = (key: string, value: string) => {\r\n  window.localStorage.setItem(key, value);\r\n};\r\n\r\n/* Get items from localstorage*/\r\nexport const getFromStore = (key: string) => {\r\n  return window.localStorage.getItem(key);\r\n};\r\n\r\nexport const removeFromStore = (key: string) => {\r\n  window.localStorage.removeItem(key);\r\n};\r\n","import axios from \"../util/axiosconfig\";\r\n\r\n/* Get a blog's data by its unique title*/\r\nexport const getBlog = (id: string) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let obj = await axios.get(\"/blog/\" + id);\r\n      return resolve(obj);\r\n    } catch (e: any) {\r\n      return reject(e);\r\n    }\r\n  });\r\n};\r\n\r\n/* Get all blogs */\r\nexport const explore = () => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let obj = await axios.get(\"/blog/\");\r\n      return resolve(obj);\r\n    } catch (e: any) {\r\n      return reject(e);\r\n    }\r\n  });\r\n};\r\n\r\n/* Create a new Blog */\r\nexport const create = (content: string, title: string) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let form = new FormData();\r\n      form.append(\"content\", content);\r\n      form.append(\"title\", title);\r\n      let obj = await axios.post(\"/blog/create\", form);\r\n      return resolve(obj);\r\n    } catch (e: any) {\r\n      return reject(e);\r\n    }\r\n  });\r\n};\r\n\r\n/* Get all of my blogs */\r\nexport const getMyBlogs = () => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let obj = await axios.get(\"/blog/my-blogs/all\");\r\n      return resolve(obj);\r\n    } catch (e: any) {\r\n      return reject(e);\r\n    }\r\n  });\r\n};\r\n","import axios from \"../util/axiosconfig\";\r\n\r\n/* Api to Log in to Bloggr */\r\nexport const login = (email: string, password: string) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let form = new FormData();\r\n      form.append(\"email\", email);\r\n      form.append(\"password\", password);\r\n      let obj = await axios.post(\"/auth/login\", form);\r\n      return resolve(obj);\r\n    } catch (e: any) {\r\n      return reject(e);\r\n    }\r\n  });\r\n};\r\n\r\n/* Api to Sign up in to Bloggr */\r\nexport const signup = (email: string, username: string, password: string) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let form = new FormData();\r\n      form.append(\"email\", email);\r\n      form.append(\"username\", username);\r\n      form.append(\"password\", password);\r\n      let obj = await axios.post(\"/auth/signup\", form);\r\n      return resolve(obj);\r\n    } catch (e) {\r\n      return reject(e);\r\n    }\r\n  });\r\n};\r\n\r\n/* Api to get my profile */\r\nexport const myProfile = () => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let obj = await axios.get(\"/auth/my-profile\");\r\n      return resolve(obj);\r\n    } catch (e) {\r\n      return reject(e);\r\n    }\r\n  });\r\n};\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport { removeFromStore } from \"../util/localstore\";\r\n\r\ninterface headerProps {\r\n  user: any;\r\n}\r\n\r\nconst styles: {\r\n  avatar: React.CSSProperties;\r\n  logoutButton: React.CSSProperties;\r\n} = {\r\n  avatar: {\r\n    padding: \"5px 10px\",\r\n    width: \"max-content\",\r\n    overflow: \"hidden\",\r\n    fontWeight: 600,\r\n  },\r\n  logoutButton: {\r\n    padding: \"0.7rem 1rem\",\r\n    backgroundColor: \"#0364FF\",\r\n    color: \"white\",\r\n    outline: \"none\",\r\n    border: \"none\",\r\n    cursor: \"pointer\",\r\n    width: \"max-content\",\r\n  },\r\n};\r\n\r\nfunction Header(props: headerProps) {\r\n  const history = useHistory();\r\n  return (\r\n    <div className=\"Header\">\r\n      <div></div>\r\n      <h3\r\n        style={{ margin: \"auto\", cursor: \"pointer\" }}\r\n        onClick={() => (window.location.href = \"/\")}\r\n      >\r\n        Bloggr\r\n      </h3>\r\n      <>\r\n        {props.user ? (\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"space-evenly\",\r\n            }}\r\n          >\r\n            <button\r\n              style={styles.logoutButton}\r\n              className=\"font\"\r\n              onClick={() => {\r\n                removeFromStore(\"auth\");\r\n                window.location.reload();\r\n              }}\r\n            >\r\n              Log out\r\n            </button>\r\n            <div style={styles.avatar}>Hi, {props.user.username} !</div>\r\n          </div>\r\n        ) : (\r\n          <button\r\n            style={styles.logoutButton}\r\n            className=\"font\"\r\n            onClick={() => history.push(\"/auth/signup\")}\r\n          >\r\n            Signup\r\n          </button>\r\n        )}\r\n      </>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, { useState, useEffect, Suspense, lazy } from \"react\";\n// Components\nimport Header from \"./components/Header\";\n/* Api */\nimport { getBlog, explore, getMyBlogs } from \"./api/blog\";\nimport { myProfile } from \"./api/auth\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport \"./App.css\";\n// Pages\nconst Home = lazy(() => import(\"./pages/Home\"));\nconst Create = lazy(() => import(\"./pages/Create\"));\nconst Blog = lazy(() => import(\"./pages/Blog\"));\nconst Signin = lazy(() => import(\"./pages/Signin\"));\nconst Signup = lazy(() => import(\"./pages/Signup\"));\n\nconst spinnerContainer = {\n  display: \"flex\",\n  width: \"100%\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  height: \"10rem\",\n};\n\nfunction App() {\n  const [blog, setBlog] = useState();\n  const [feed, setFeed] = useState([]);\n  const [user, setUser] = useState();\n  const [myBlogsData, setMyBlogs] = useState([]);\n\n  useEffect(() => {\n    if (!user) {\n      getMyProfile();\n    }\n  }, [user]);\n\n  /* Get a blog by its name and send it as props to Blog page */\n  const getBlogByName = (id: string) => {\n    return new Promise(async (resolve, reject) => {\n      try {\n        let obj: any = await getBlog(id);\n        setBlog(obj);\n        resolve(obj);\n      } catch (e: any) {\n        setBlog(e.response);\n        reject(e.response);\n      }\n    });\n  };\n\n  /* Get all blogs */\n  const exploreBlogs = async () => {\n    try {\n      let obj: any = await explore();\n      setFeed(obj.data);\n    } catch (e: any) {}\n  };\n\n  /* Get user profile */\n  const getMyProfile = async () => {\n    try {\n      let obj: any = await myProfile();\n      setUser(obj.data.obj);\n    } catch (e) {}\n  };\n\n  /* Get my blogs */\n  const myBlogs = async () => {\n    try {\n      let obj: any = await getMyBlogs();\n      setMyBlogs(obj.data);\n    } catch (e) {}\n  };\n\n  return (\n    <Suspense\n      fallback={\n        <div style={spinnerContainer}>\n          <CircularProgress />\n        </div>\n      }\n    >\n      <Router>\n        <Header user={user} />\n        <div className=\"App\">\n          <Switch>\n            <Route path=\"/create\">\n              <Create user={user} />\n            </Route>\n            <Route\n              path=\"/blog/:id\"\n              render={(props) => (\n                <Blog {...props} getBlogByName={getBlogByName} blog={blog} />\n              )}\n            />\n            <Route path=\"/auth/signup\">\n              <Signup />\n            </Route>\n            <Route path=\"/auth/signin\">\n              <Signin />\n            </Route>\n            <Route exact path=\"/\">\n              <Home\n                feed={feed}\n                user={user}\n                exploreBlogs={exploreBlogs}\n                myBlogs={myBlogs}\n                myBlogsData={myBlogsData}\n              />\n            </Route>\n            <Route path=\"*\">404 error not found</Route>\n          </Switch>\n        </div>\n      </Router>\n    </Suspense>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}